<!DOCTYPE html>
<html class="no-js css-menubar" lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
        <meta name="description" content="">
        <meta name="author" content="">          
        <title>Dashboard</title>   
        <!--[if lt IE 9]>
        <![endif]-->

        <!--[if lt IE 10]>
        <![endif]-->       
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
        <script src="./js/components.js"></script>
        <link rel="stylesheet" href="./css/layout4.css"/>        
        <link rel="stylesheet" href="./css/components.css"/>                
        <link rel="stylesheet" href="./css/componentcolor.css"/>        
        <link rel="stylesheet" ref="./css/flatcolor.css"/>   
        <link rel="stylesheet" href="./css/greytheme.css">     
        <style>
            #right-panel {
                font-family: 'Roboto','sans-serif';
                line-height: 30px;
                padding-left: 10px;
                }
        
                #right-panel select, #right-panel input {
                font-size: 15px;
                }
        
                #right-panel select {
                width: 100%;
                }
        
                #right-panel i {
                font-size: 12px;
                }
                html, body {
                height: 100%;
                margin: 0;
                padding: 0;
                }
                #map {
                height: 500px;
                float: left;
                width: 300px;
                height: 100%;
                }
                #right-panel {
                margin: 20px;
                border-width: 2px;
                width: 20%;
                height: 400px;
                float: left;
                text-align: left;
                padding-top: 0;
                }
                #directions-panel {
                margin-top: 10px;
                background-color: #FFEE77;
                padding: 10px;
                overflow: scroll;
                height: 174px;
                }
            </style>
    </head>
    <body class="w3-theme-l5">
        <header id="header">            
            <nav class="w3-top" id="topnavbar" style="z-index:2">
                <div class="w3-bar w3-theme-d2 w3-left-align">
                    <a class="fixedmenu icon w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-theme-d2" 
                    href="javascript:void(0);" onclick="headerTopBar()"><i class="fa fa-bars"></i></a>
                    <a href="#" class="fixedmenu logo w3-hover-none w3-bar-item w3-button w3-padding-small"><i class="fa fa-compass w3-xxlarge"></i></a>
                    <a href="#" class="w3-bar-item w3-button 3-hide-small w3-padding-large w3-hover-white" title="Vehicles"><i class="fa fa-car w3-large"></i> <span>Vehicles</span></a>                    
                    <a href="#" class="w3-bar-item w3-button 3-hide-small w3-padding-large w3-hover-white" title="Expenses"><i class="fa fa-credit-card w3-large"></i> <span>Expenses</span></a>
                    <a href="#" class="w3-bar-item w3-button 3-hide-small w3-padding-large w3-hover-white" title="Reports"><i class="fa fa-pie-chart w3-large"></i> <span>Reports</span></a>
                    <div class="alert w3-dropdown-hover 3-hide-small">
                        <button class="w3-button w3-padding-large w3-hover-white" title="Notifications"><i class="fa fa-bell w3-large"></i><span class="w3-badge w3-right w3-small w3-green">3</span></button>     
                        <div class="w3-dropdown-content w3-card-4 w3-bar-block" style="width:250px">
                            <div class="w3-bar-item w3-padding-small w3-small w3-blue-grey w3-hover-blue-grey">Recent Notifications</div>
                            <a href="#" class="w3-bar-item w3-button w3-padding-small w3-border-bottom w3-small">One new friend request</a>
                            <a href="#" class="w3-bar-item w3-button w3-padding-small w3-border-bottom w3-small">One new friend request</a>
                            <a href="#" class="w3-bar-item w3-button w3-padding-small w3-border-bottom w3-small">One new friend request</a>
                            <a href="#" class="w3-bar-item w3-button w3-padding-small w3-border-bottom w3-small">One new friend request</a>
                            <a href="#" class="w3-bar-item w3-button w3-padding-small w3-border-bottom w3-small">One new friend request</a>
                            <a href="#" class="w3-bar-item w3-padding-small w3-small w3-blue-grey w3-hover-blue-grey w3-right-align">View All</a>
                        </div>
                    </div>                                         
                    <div class=" w3-dropdown-hover 3-hide-small w3-right w3-padding">
                        <img src="./images/avatar2.png" class="w3-circle" style="height:30px;width:30px" alt="Avatar"/>
                        <div class="w3-dropdown-content w3-card-4 w3-bar-block w3-left-align" style="margin-top:9px;width:200px;right:0">
                            <a href="#" class="w3-bar-item w3-button w3-small"><i class="fa fa-user"></i> My Profile</a>
                            <a href="#" class="w3-bar-item w3-button w3-small"><i class="fa fa-gears"></i> Settings</a>
                            <a href="#" class="w3-bar-item w3-button w3-small"><i class="fa fa-power-off"></i> Log Out</a>
                        </div>
                    </div>
                </div>
            </nav> 
        </header>
        <aside id="leftmenubar">
            <nav id="leftsidenav">                
                <a href="#about"><i class="fa fa-fw fa-home"></i> <span>About</span></a>
                <a href="#services"><i class="fa fa-fw fa-home"></i> <span>Service</span></a>
                <a href="#clients"><i class="fa fa-fw fa-home"></i> <span>Client</span></a>
                <a href="#contact"><i class="fa fa-fw fa-home"></i> <span>Contact</span></a>
                <a class="w3-dropdown-click w3-hover-none" id="leftsidenav_dropdown">
                    <div onclick="leftsidenav_dropdown_func()"><i class="fa fa-fw fa-home"></i> More Links <i class="fa fa-caret-down"></i></div>
                    <div id="morelinkdrop" class="w3-dropdown-content w3-bar-block w3-white w3-card">
                        <a href="#" class="w3-bar-item w3-button">Link</a>
                        <a href="#" class="w3-bar-item w3-button">Link</a>
                    </div>
                </a>
            </nav>
        </aside>     
        <section id="main">
            <section id="content">
                <div class="w3-container">
                        <div id="map"></div>
                        <div id="right-panel">
                        <div>
                        <b>Start:</b>
                        <select id="start">
                          <option value="Halifax, NS">Halifax, NS</option>
                          <option value="Boston, MA">Boston, MA</option>
                          <option value="New York, NY">New York, NY</option>
                          <option value="Miami, FL">Miami, FL</option>
                        </select>
                        <br>
                        <b>Waypoints:</b> <br>
                        <i>(Ctrl+Click or Cmd+Click for multiple selection)</i> <br>
                        <select multiple id="waypoints">
                          <option value="montreal, quebec">Montreal, QBC</option>
                          <option value="toronto, ont">Toronto, ONT</option>
                          <option value="chicago, il">Chicago</option>
                          <option value="winnipeg, mb">Winnipeg</option>
                          <option value="fargo, nd">Fargo</option>
                          <option value="calgary, ab">Calgary</option>
                          <option value="spokane, wa">Spokane</option>
                        </select>
                        <br>
                        <b>End:</b>
                        <select id="end">
                          <option value="Vancouver, BC">Vancouver, BC</option>
                          <option value="Seattle, WA">Seattle, WA</option>
                          <option value="San Francisco, CA">San Francisco, CA</option>
                          <option value="Los Angeles, CA">Los Angeles, CA</option>
                        </select>
                        <br>
                          <input type="submit" id="submit">
                        </div>
                        <div id="directions-panel"></div>
                        </div>
                </div>                  
            </section>          
            <div id="mainfooter">
                <nav class="w3-bottom" id="mainfooternavbar" style="z-index:0">
                    <div class="w3-bar w3-theme-d2 w3-left-align">                        
                        <a href="#" class="w3-bar-item w3-button 3-hide-small w3-padding-large w3-hover-none"><i class="fa fa-star"></i> <span>Powered by PSK</span></a>                        
                    </div>
                </nav>
            </div>
        </section>
        <footer id="footer">
             
        </footer>
    </body>
    <script src="./js/components.js"></script>
    <script>
           function initMap() {
               
            var directionsService = new google.maps.DirectionsService;
            var directionsDisplay = new google.maps.DirectionsRenderer;
            var map = new google.maps.Map(document.getElementById('map'), {
              zoom: 6,
              center: {lat: 41.85, lng: -87.65}
            });
            directionsDisplay.setMap(map);
          
            document.getElementById('submit').addEventListener('click', function() {
              calculateAndDisplayRoute(directionsService, directionsDisplay);
            });
          }
          
          function calculateAndDisplayRoute(directionsService, directionsDisplay) {
            var waypts = [];
            var checkboxArray = document.getElementById('waypoints');
            for (var i = 0; i < checkboxArray.length; i++) {
              if (checkboxArray.options[i].selected) {
                waypts.push({
                  location: checkboxArray[i].value,
                  stopover: true
                });
              }
            }
          
            directionsService.route({
              origin: document.getElementById('start').value,
              destination: document.getElementById('end').value,
              waypoints: waypts,
              optimizeWaypoints: true,
              travelMode: 'DRIVING'
            }, function(response, status) {
              if (status === 'OK') {
                directionsDisplay.setDirections(response);
                var route = response.routes[0];
                var summaryPanel = document.getElementById('directions-panel');
                summaryPanel.innerHTML = '';
                // For each route, display summary information.
                for (var i = 0; i < route.legs.length; i++) {
                  var routeSegment = i + 1;
                  summaryPanel.innerHTML += '<b>Route Segment: ' + routeSegment +
                      '</b><br>';
                  summaryPanel.innerHTML += route.legs[i].start_address + ' to ';
                  summaryPanel.innerHTML += route.legs[i].end_address + '<br>';
                  summaryPanel.innerHTML += route.legs[i].distance.text + '<br><br>';
                }
              } else {
                window.alert('Directions request failed due to ' + status);
              }
            });
          }
    </script>    
          <script async defer
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAvOyiUgoPF_uVp-z3q6sWOwIfwabI_rwg&callback=initMap">
          </script>
    <div id="snackbar" class="w3-black w3-border w3-round">Some text some message..</div>
</html>    